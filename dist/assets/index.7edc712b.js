import{r as c,i as me,k as fe,R as I,m as Z,w as he,a8 as be,j as a,c as D,p as y,a as P,an as ve,C as ge,o as Ce,I as ee,_ as te,b as $,d as M,F as ne,B as E,e as G,b_ as ye,aL as z,u as re,b$ as Oe,c0 as _e,c1 as Se,c2 as xe,c3 as Ne,c4 as Pe,c5 as q,bB as ke}from"./index.16b57e60.js";import{C as w}from"./common.module.e5e57554.js";import{L as we,F as ae}from"./index.520d31f4.js";import{T as De}from"./index.928f8c8e.js";import{T as Ie}from"./index.28685421.js";import"./formModel.3a242e41.js";import"./DateRangePicker.018b5528.js";import"./index.f4b135d9.js";import"./react-render.7534fff6.js";function V(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,r)}return e}function H(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?V(Object(e),!0).forEach(function(r){fe(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var je={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20.99 7.38l-10.61 10.6L4 11.63l1.42-1.41 4.95 4.95 9.2-9.2 1.4 1.42z"}}]},oe=c.exports.forwardRef(function(t,n){return c.exports.createElement(me,H(H({},t),{},{id:"check",ref:n,icon:je}))});oe.displayName="CheckIcon";var Ee=oe;/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var se=I.createContext({current:0,theme:"default",readonly:!1,onChange:null});/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var Te={icon:!0,status:"default"},Fe={layout:"horizontal",readonly:!1,separator:"line",sequence:"positive",theme:"default"};/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var L=function(n){var e,r=n.index,l=n.icon,g=n.title,C=n.content,s=n.value,p=n.children,h=n.style,o=n.status,v=c.exports.useContext(se),d=v.current,m=v.theme,f=v.onChange,u=v.readonly,_=Z(),i=_.classPrefix,T=_.steps,F=he({CloseIcon:be,CheckIcon:Ee}),O=F.CloseIcon,b=F.CheckIcon,S=o!=="process"&&!u;function x(){if(!l)return null;var k="".concat(i,"-steps-item__icon--number");return l&&l!==!0?a("span",{className:k,children:l}):m!=="default"?null:o==="error"?a("span",{className:k,children:T.errorIcon||a(O,{})}):o==="finish"?a("span",{className:k,children:a(b,{})}):a("span",{className:k,children:Number(r)+1})}function N(k){if(!!S){var pe=s!=null?s:r;f(pe,d,{e:k})}}return a("div",{style:h,className:D((e={},y(e,"".concat(i,"-steps-item"),!0),y(e,"".concat(i,"-steps-item--wait"),o==="default"),y(e,"".concat(i,"-steps-item--error"),o==="error"),y(e,"".concat(i,"-steps-item--finish"),o==="finish"),y(e,"".concat(i,"-steps-item--process"),o==="process"),y(e,n.className,!!n.className),e)),children:P("div",{className:D("".concat(i,"-steps-item__inner"),y({},"".concat(i,"-steps-item--clickable"),S)),onClick:N,children:[a("div",{className:D("".concat(i,"-steps-item__icon"),y({},"".concat(i,"-steps-item-").concat(o),o)),children:x()}),P("div",{className:"".concat(i,"-steps-item__content"),children:[a("div",{className:"".concat(i,"-steps-item__title"),children:g}),a("div",{className:"".concat(i,"-steps-item__description"),children:C}),p?a("div",{className:"".concat(i,"-steps-item__extra"),children:p}):null]})]})})};L.displayName="StepItem";L.defaultProps=Te;/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */function J(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,r)}return e}function B(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?J(Object(e),!0).forEach(function(r){y(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):J(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var K=ve(function(t,n){var e,r=t.style,l=t.readonly,g=t.layout,C=t.theme,s=t.sequence,p=t.separator,h=t.children,o=t.options,v=Z(),d=v.classPrefix,m=ge(t,"current",t.onChange),f=Ce(m,2),u=f[0],_=f[1],i=c.exports.useMemo(function(){var O={};return o?o.forEach(function(b,S){b.value!==void 0&&(O[b.value]=S)}):I.Children.forEach(h,function(b,S){!I.isValidElement(b)||b.props.value!==void 0&&(O[b.props.value]=S)}),O},[o,h]),T=c.exports.useCallback(function(O,b){var S;if(u==="FINISH")return"finish";if(O.status&&O.status!=="default")return O.status;if(O.value===void 0&&(s==="positive"&&b<u||s==="reverse"&&b>u))return"finish";if(O.value!==void 0){var x=i[u];if(x===void 0)return console.warn("TDesign Steps Warn: The current `value` is not exist."),"default";if(s==="positive"&&b<x||s==="reverse"&&b>x)return"finish"}var N=(S=O.value)!==null&&S!==void 0?S:b;return N===u?"process":"default"},[u,s,i]),F=c.exports.useMemo(function(){if(o){var O=s==="reverse"?o.reverse():o;return o.map(function(x,N){var k=s==="reverse"?O.length-N-1:N;return a(L,{...B(B({key:N},x),{},{index:k,status:T(x,N)})})})}var b=I.Children.toArray(h),S=s==="reverse"?b.reverse():b;return b.map(function(x,N){var k=s==="reverse"?S.length-N-1:N;return I.cloneElement(x,B(B({},x.props),{},{index:k,status:T(x.props,N)}))})},[o,h,s,T]);return a(se.Provider,{value:{current:u,theme:C,readonly:l,onChange:_},children:a("div",{ref:n,style:r,className:D((e={},y(e,"".concat(d,"-steps"),!0),y(e,"".concat(d,"-steps--").concat(C,"-anchor"),C),y(e,"".concat(d,"-steps--").concat(g),g),y(e,"".concat(d,"-steps--").concat(s),s),y(e,"".concat(d,"-steps--").concat(p,"-separator"),p),y(e,t.className,!!t.className),e)),children:F})})},{StepItem:L});K.displayName="Steps";K.defaultProps=Fe;/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var le=K;function X(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,r)}return e}function Y(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?X(Object(e),!0).forEach(function(r){te(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var Be={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 15A7 7 0 108 1a7 7 0 000 14zM4.5 8.2l.7-.7L7 9.3l3.8-3.8.7.7L7 10.7 4.5 8.2z",fillOpacity:.9}}]},ce=c.exports.forwardRef(function(t,n){return c.exports.createElement(ee,Y(Y({},t),{},{id:"check-circle-filled",ref:n,icon:Be}))});ce.displayName="CheckCircleFilledIcon";function Q(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,r)}return e}function U(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Q(Object(e),!0).forEach(function(r){te(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var Ae={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4.5 8.2L7 10.7l4.5-4.5-.7-.7L7 9.3 5.2 7.5l-.7.7z",fillOpacity:.9}},{tag:"path",attrs:{fill:"currentColor",d:"M4.11 2.18a7 7 0 117.78 11.64A7 7 0 014.1 2.18zm.56 10.8a6 6 0 106.66-9.97A6 6 0 004.67 13z",fillOpacity:.9}}]},ie=c.exports.forwardRef(function(t,n){return c.exports.createElement(ee,U(U({},t),{},{id:"check-circle",ref:n,icon:Ae}))});ie.displayName="CheckCircleIcon";const ue=t=>{const{deleteColumn:n,getCurrentColumnList:e,editColumn:r}=t;$(),c.exports.useRef(null);const l=new Array(5).fill(null).map((m,f)=>({id:String(f+1),goldTable:["table1","table2","table3"][f%3],status:f%3,goldColumn:["column1","column2","column3","column4","column5"][f%4],letters:[["\u5BA3\u4F20\u7269\u6599\u5236\u4F5C\u8D39\u7528"],["\u5BA3\u4F20\u7269\u6599\u5236\u4F5C\u8D39\u7528"],["\u5BA3\u4F20\u7269\u6599\u5236\u4F5C\u8D39\u7528"],["\u5BA3\u4F20\u7269\u6599\u5236\u4F5C\u8D39\u7528","algolia \u670D\u52A1\u62A5\u9500"]][f%4],createTime:["2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01"][f%4]})),[g,C]=c.exports.useState([...l]),[s,p]=c.exports.useState({}),{goldTableColumnList:h}=t;c.exports.useEffect(()=>{C(h||[...l])},[h]),c.exports.useEffect(()=>{e(h)},[h]);const o=m=>m.index!==2,v=m=>{console.log(m);const{id:f}=m.currentTarget.dataset;n(f)},d=c.exports.useMemo(()=>[{title:"Distribution Info ",colKey:"goldTable",align:"left"},{title:"Current Name",colKey:"goldColumn",align:"left"},{title:"distribution name",colKey:"subscrColumn",width:280,edit:{component:M,props:{clearable:!0,autofocus:!0},validateTrigger:"change",on:m=>({onBlur:()=>{console.log("\u5931\u53BB\u7126\u70B9",m)},onEnter:f=>{var u;(u=f==null?void 0:f.e)==null||u.preventDefault(),console.log("onEnter",f)}}),abortEditOnEvent:["onEnter"],onEdited:m=>{r(m.newRowData)},rules:[{required:!0,message:"\u4E0D\u80FD\u4E3A\u7A7A"},{max:10,message:"\u5B57\u7B26\u6570\u91CF\u4E0D\u80FD\u8D85\u8FC7 10",type:"warning"}]},defaultEditable:!0},{title:"Operation",colKey:"operate",cell:({row:m})=>a("div",{className:"table-operations",children:a("div",{children:a(we,{theme:"primary",hover:"color","data-id":m.id,onClick:v,children:"delete"})})})}],[g,s]);return a(De,{rowKey:"key",columns:d,data:g,editableCellState:o,bordered:!0,lazyLoad:!0})},Le=()=>a("div",{className:D(w.pageWithPadding,w.pageWithColor),children:a(ue,{})});c.exports.memo(Le);var $e=c.exports.memo(t=>{const{callback:n,removeinfo:e,editInfo:r}=t,{goldTableId:l,goldTableName:g,goldTableColumnList:C}=t,s=()=>{n("next")};return P(ne,{children:[a(ue,{goldTableColumnList:C,deleteColumn:d=>{e(d)},getCurrentColumnList:d=>{console.log("getCurrentColumnList==>"),console.log(JSON.stringify)},editColumn:d=>{r(d)}}),a("div",{style:{marginTop:"30px"},children:a(E,{type:"submit",onClick:()=>s(),children:"Next Step"})})]})});const{FormItem:W}=ae;var We=c.exports.memo(t=>{const{current:n,callback:e,steps:r=[],goldTableName:l,goldTableId:g,submitInfo:C}=t;$(),G(ye);const s=c.exports.useRef(),{Option:p}=z,h=()=>{var d,m;const v=(m=(d=s.current)==null?void 0:d.getFieldsValue)==null?void 0:m.call(d,!0);C(v)},o=()=>{e("back")};return P(ae,{ref:s,labelWidth:100,children:[a(W,{label:"Distribution Name",name:"subscr",children:a(M,{style:{marginLeft:20},placeholder:"Please Enter"})}),a(W,{label:"Distribution Type",name:"distributionType",children:P(z,{style:{marginLeft:20},value:"A",placeholder:"please select distribution type",children:[a(p,{label:"CSV",value:"A"},"A"),a(p,{label:"EXCEL",value:"B"},"B"),a(p,{label:"PDF",value:"C"},"C")]})}),P(W,{children:[a(E,{type:"submit",onClick:()=>h(),children:"Submit"}),a(E,{style:{margin:"0 8px"},onClick:()=>o(),children:"Go back"})]})]})});const Re="_stepFourWrapper_1790c_1",Me="_icon_1790c_4",Ge="_title_1790c_8",Ke="_Content_1790c_13",ze="_description_1790c_31",qe="_rightButton_1790c_37";var j={stepFourWrapper:Re,icon:Me,title:Ge,Content:Ke,description:ze,rightButton:qe},Ve=c.exports.memo(t=>{const n=re(),e=()=>{n("/")};return P("div",{className:j.Content,children:[a(ie,{className:j.icon}),a("div",{className:j.title,children:"Success"}),a("div",{className:j.description,children:"You can go back now"}),a("div",{children:a(E,{onClick:e,children:"go back to homepage"})})]})});c.exports.memo(t=>{const n=re(),{callback:e}=t,r=()=>{e("first")},l=()=>{n("/detail/advanced")};return a("div",{className:j.stepFourWrapper,children:P("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[a(ce,{className:j.icon}),a("div",{className:j.title,children:"\u5B8C\u6210\u5F00\u7968\u7533\u8BF7"}),a("p",{children:"\u9884\u8BA11\uFF5E3\u4E2A\u5DE5\u4F5C\u65E5\u4F1A\u5C06\u7535\u5B50\u53D1\u7968\u53D1\u81F3\u90AE\u7BB1\uFF0C\u53D1\u7968\u90AE\u5BC4\u8BF7\u8010\u5FC3\u7B49\u5F85"}),P("div",{className:"tdesign-demo-block-column",style:{marginTop:"20px"},children:[a(E,{theme:"primary",variant:"base",onClick:r,children:"\u518D\u6B21\u7533\u8BF7"}),a(E,{theme:"default",variant:"base",style:{marginLeft:"15px"},onClick:l,children:"\u67E5\u770B\u8FDB\u5EA6"})]})]})})});const{StepItem:He}=le,R=[{title:"Edit Distribution Info  ",content:"please input expected distribution name",component:$e},{title:"Edit Current Name ",content:"please input current name",component:We},{title:"Submit",content:"Submit and back to homepage",component:Ve}],de=t=>{const[n,e]=I.useState(0),r=R[n].component,{goldTableId:l,goldTableName:g}=t,C=G(Oe),s=$(),{goldTableColumnList:p}=C;c.exports.useEffect(()=>{s(_e(l))},[l]);const h=u=>{const _=[];for(let i=0;i<p.length;i++)p[i].id!=u&&_.push(p[i]);s(Se(_))},o=u=>{const _=[];for(let i=0;i<p.length;i++)u.id==p[i].id?_.push(u):_.push(p[i]);s(xe(_))},v=()=>{e(n+1)},d=u=>{let _={subscr:u.subscr,distributionType:u.distributionType,goldTableColumnList:p,goldTableId:l,goldTableName:g};s(Ne(_)),v()},m=()=>{e(n-1)},f=u=>{switch(u){case"back":m();break;case"next":v();break;case"first":e(0);break}};return a("div",{className:D(w.pageWithPadding,w.pageWithColor),children:P(ne,{children:[a(le,{current:n,children:R.map(u=>a(He,{title:u.title,content:u.content},u.title))}),a("div",{style:{marginTop:"52px"},children:a(r,{steps:R,current:n,callback:f,goldTableId:l,goldTableName:g,editInfo:o,submitInfo:d,goldTableColumnList:p,removeinfo:h})})]})})},Je=()=>a("div",{className:D(w.pageWithPadding,w.pageWithColor),children:a(de,{})});c.exports.memo(Je);const Xe="_content_361ln_1",Ye="_treeContent_361ln_4",Qe="_search_361ln_10",Ue="_tableContent_361ln_13";var A={content:Xe,treeContent:Ye,search:Qe,tableContent:Ue};const Ze=()=>{const t=$(),[n,e]=c.exports.useState(0),[r,l]=c.exports.useState(),g=c.exports.useRef(null),C=G(Pe),{goldTableList:s,options:p}=C;c.exports.useEffect(()=>{t(q(null))},[]);const h=o=>{const v=o.node.data.label,d=o.node.data.value;e(d),l(v)};return P("div",{className:D(w.pageWithPadding,w.pageWithColor,w.pageWithSize,A.content),children:[P("div",{className:A.treeContent,children:[a(M,{className:A.search,suffixIcon:a(ke,{}),onEnter:o=>{t(q({tableName:o}))},placeholder:"Distribution info search /"}),a(Ie,{data:p,onClick:h,activable:!0,hover:!0,transition:!0,ref:g})]}),a("div",{className:A.tableContent,children:n&&n!=0?a(de,{goldTableId:n,goldTableName:r}):null})]})};var it=I.memo(Ze);export{it as default};
