import{r as c,b as F,j as e,c as N,a,b2 as x,b3 as p,d as C,B as u,c2 as y}from"./index.ddc3d799.js";import{C as _}from"./common.module.d7e709a7.js";import{F as h}from"./index.8895e431.js";import{U as T}from"./index.abfa5a78.js";import{M as i}from"./index.8a7925ef.js";import"./formModel.f3d878d0.js";import"./image.a78538a5.js";import"./DateRangePicker.49213930.js";import"./index.ea9018f6.js";import"./useDebounce.0e488d19.js";import"./react-render.035f1873.js";const A="_formContainer_rhia5_1",E="_titleText_rhia5_10",H="_dateCol_rhia5_15";var l={formContainer:A,titleText:E,dateCol:H};const{FormItem:o}=h,f={eventhubName:"",file:[]};var w=c.exports.memo(()=>{const b=F(),s=c.exports.useRef(),v=t=>{var r,n;if(t.validateResult===!0){console.log("form: ",(n=(r=s.current)==null?void 0:r.getFieldsValue)==null?void 0:n.call(r,!0));const m=t.fields;console.log("p: ",m),b(y(m)).then(d=>{console.log("resp: ",d),d.payload.code===0?i.info("submit successfully!"):i.error("Failed to send file")})}},g=({file:t})=>{i.error(`Failed to send ${t.name}`)};return e("div",{className:N(_.pageWithColor),children:e("div",{className:l.formContainer,children:a(h,{ref:s,onSubmit:v,labelWidth:100,labelAlign:"top",children:[e("div",{className:l.titleBox,children:e("div",{className:l.titleText,children:"Send File to EventHub"})}),a(x,{gutter:[32,24],children:[e(p,{span:6,children:e(o,{label:"EventHub Name",name:"eventhubName",initialData:f.eventhubName,rules:[{required:!0,message:"EventHub Name is required",type:"error"}],children:e(C,{placeholder:"please input EventHub Name"})})}),e(p,{span:6,children:e(o,{label:"File",name:"file",initialData:f.file,rules:[{required:!0,message:"File is required",type:"error"}],children:e(T,{onFail:g,tips:"please upload file to EventHub",autoUpload:!1,multiple:!1})})})]}),a(o,{children:[e(u,{type:"submit",theme:"primary",children:"submit"}),e(u,{type:"reset",style:{marginLeft:12},children:"reset"})]})]})})})});export{w as default};
