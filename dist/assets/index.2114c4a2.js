import{r as l,b as v,f as C,bS as K,u as z,bT as s,bU as B,a as p,c as N,j as a,b2 as k,b3 as j,d as P,bV as A,F as L,B as n}from"./index.65ce8f94.js";import{C as u}from"./common.module.d7e709a7.js";import{T as R}from"./index.97578909.js";import"./formModel.ab5c56fd.js";import"./useDebounce.ebb99acb.js";import"./observe.3c3f0282.js";import"./index.558ad059.js";import"./react-render.79d0c734.js";const T="_toolBar_1elvb_1";var W={toolBar:T},U=l.exports.memo(()=>{const r=v(),i=C(K),[d,m]=l.exports.useState([1,2]),{loading:h,datasourceList:g,current:f,pageSize:y,total:S}=i,c=z();l.exports.useEffect(()=>(r(s({pageSize:i.pageSize,current:i.current})),()=>{r(B())}),[]);function w(e){const{row:t}=e,o=t.id?t.id:0;c(`/datasource/${o}/form`)}function x(e){const{row:t}=e,o=t.id?t.id:0;c(`/datasource/${o}/details`)}function b(e){m(e)}return p("div",{className:N(u.pageWithPadding,u.pageWithColor),children:[a(k,{justify:"space-between",className:W.toolBar,children:a(j,{children:a(P,{suffixIcon:a(A,{}),placeholder:"Please type datasource name.",onEnter:e=>{r(s({pageSize:i.pageSize,current:i.current,name:e}))},autoWidth:!0})})}),a(R,{columns:[{colKey:"row-select",fixed:"left",type:"multiple"},{align:"left",width:200,ellipsis:!0,colKey:"name",title:"name"},{align:"left",width:200,ellipsis:!0,colKey:"host",title:"host"},{align:"left",width:200,ellipsis:!0,colKey:"port",title:"port"},{align:"left",width:200,ellipsis:!0,colKey:"username",title:"username"},{align:"left",width:200,ellipsis:!0,colKey:"bucketName",title:"bucketName"},{align:"left",fixed:"right",width:180,colKey:"op",title:"operation",cell(e){return p(L,{children:[a(n,{theme:"primary",variant:"text",onClick:()=>w(e),children:"manage"}),a(n,{theme:"primary",variant:"text",onClick:()=>x(e),children:"details"}),a(n,{theme:"primary",variant:"text",onClick:()=>{},children:"delete"})]})}}],loading:h,data:g,rowKey:"index",selectedRowKeys:d,verticalAlign:"top",hover:!0,onSelectChange:b,pagination:{pageSize:y,total:S,current:f,showJumper:!0,onCurrentChange(e,t){r(s({pageSize:t.pageSize,current:t.current}))},onPageSizeChange(e){r(s({pageSize:e,current:1}))}}})]})});export{U as default};
