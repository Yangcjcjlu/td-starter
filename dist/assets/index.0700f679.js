import{R as O,a7 as ne,a5 as oe,m as se,r as c,n as Re,o as y,w as $e,A as Ge,a as W,c as k,F as _e,j as n,bZ as ve,p as _,an as Te,a3 as Fe,b_ as Me,bw as We,z as pe}from"./index.ec596792.js";import{o as ke}from"./observe.3c3f0282.js";import{a as Ke,I as Ze}from"./image.b3e0f752.js";/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var te=O.createContext("default"),fe=function(a){var r=a.children,e=a.size;return O.createElement(te.Consumer,null,function(l){return O.createElement(te.Provider,{value:e||l},r)})};/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var He={hideOnLoadFailed:!1,shape:"circle"},qe={cascading:"right-up"};/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var Ve={fit:"fill",gallery:!1,lazy:!1,overlayTrigger:"always",position:"center",shape:"square"};/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var Be=["className","src","style","alt","fit","position","shape","placeholder","loading","error","overlayTrigger","lazy","gallery","overlayContent","srcset","onLoad","onError"];function ge(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,e)}return r}function me(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ge(Object(r),!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Je=function(a,r){var e=ne(a,Ve),l=e.className,f=e.src,i=e.style,b=e.alt,S=e.fit,D=e.position,v=e.shape,P=e.placeholder,G=e.loading,T=e.error,I=e.overlayTrigger,g=e.lazy,j=e.gallery,x=e.overlayContent,E=e.srcset,w=e.onLoad,m=e.onError,A=oe(e,Be),J=se(),o=J.classPrefix,p=c.exports.useRef(null),K=Re("image"),Z=y(K,2),h=Z[0],R=Z[1],N=$e({ImageErrorIcon:Ke,ImageIcon:Ze}),u=N.ImageErrorIcon,F=N.ImageIcon;O.useImperativeHandle(r,function(){return p.current});var H=c.exports.useMemo(function(){return Ge(h.replaceImageSrc)?h.replaceImageSrc(e):f},[f,h,e]),Q=c.exports.useState(!g),q=y(Q,2),C=q[0],U=q[1],X=function(){U(!0)},M=c.exports.useState(!1),V=y(M,2),$=V[0],Y=V[1],ee=function(d){Y(!0),w==null||w({e:d})};c.exports.useEffect(function(){if(!(!g||!(p!=null&&p.current))){var s=null,d=ke(p.current,null,X,0);return s=p.current,function(){s&&d&&d.unobserve(s)}}},[g,p]);var z=c.exports.useState(!1),L=y(z,2),re=L[0],je=L[1],xe=function(d){je(!0),m==null||m({e:d})},ae=I==="hover",Ee=c.exports.useState(!ae),ce=y(Ee,2),we=ce[0],Ne=ce[1],le=function(d){Ne(d)},Ce=function(){return x?n("div",{className:k("".concat(o,"-image__overlay-content"),!we&&"".concat(o,"-image__overlay-content--hidden")),children:x}):null},ze=function(){return P?n("div",{className:"".concat(o,"-image__placeholder"),children:P}):null},Le=function(){return j?n("div",{className:"".concat(o,"-image__gallery-shadow")}):null},ie=function(d){return n("img",{src:d,onError:xe,onLoad:ee,className:k("".concat(o,"-image"),"".concat(o,"-image--fit-").concat(S),"".concat(o,"-image--position-").concat(D)),alt:b})},De=function(){return W("picture",{children:[Object.entries(e.srcset).map(function(d){var ue=y(d,2),Ae=ue[0],de=ue[1];return n("source",{type:Ae,srcSet:de},de)}),e.src&&ie(e.src)]})};return W("div",{...me(me({ref:p,className:k("".concat(o,"-image__wrapper"),"".concat(o,"-image__wrapper--shape-").concat(v),j&&"".concat(o,"-image__wrapper--gallery"),ae&&"".concat(o,"-image__wrapper--need-hover"),l),style:i},ae?{onMouseEnter:function(){return le(!0)},onMouseLeave:function(){return le(!1)}}:null),A),children:[ze(),Le(),!(re||!C)&&W(_e,{children:[E&&Object.keys(E).length?De():ie(H),!(re||!C)&&!$&&n("div",{className:"".concat(o,"-image__loading"),children:G||W(ve,{direction:"vertical",size:8,align:"center",children:[n(F,{size:24}),R(h.loadingText)]})})]}),re&&n("div",{className:"".concat(o,"-image__error"),children:T||W(ve,{direction:"vertical",size:8,align:"center",children:[n(u,{size:24}),R(h.errorText)]})}),Ce()]})},be=O.forwardRef(Je);be.displayName="Image";/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var Qe=be;/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var Ue=["className","cascading","collapseAvatar","max","size","children"];function he(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,e)}return r}function ye(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?he(Object(r),!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Se=function(a){var r,e=se(),l=e.classPrefix,f="".concat(l,"-avatar"),i=ne(a,qe),b=i.className,S=i.cascading,D=i.collapseAvatar,v=i.max,P=i.size,G=i.children,T=oe(i,Ue),I=O.Children.toArray(G),g;I.length>0&&(g=I.map(function(m,A){return O.cloneElement(m,ye({key:"avatar-group-item-".concat(A)},m.props))}));var j=k("".concat(f,"-group"),b,(r={},_(r,"".concat(f,"--offset-right"),S==="right-up"),_(r,"".concat(f,"--offset-left"),S==="left-up"),r)),x=I.length;if(v&&x>v){var E=g.slice(0,v),w=O.createElement(Ie,{className:"".concat(f,"__collapse")},Fe(D)||"+".concat(x-v));return E.push(n(_e,{children:w})),n(fe,{size:P,children:n("div",{className:j,children:E})})}return n(fe,{size:P,children:n("div",{...ye({className:j},T),children:g})})};Se.displayName="AvatarGroup";var Xe=["alt","hideOnLoadFailed","icon","image","shape","size","onError","children","content","style","imageProps","className"];function Oe(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),r.push.apply(r,e)}return r}function B(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Oe(Object(r),!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Pe=Te(function(t,a){var r,e=ne(t,He),l=e.alt,f=e.hideOnLoadFailed,i=e.icon,b=e.image,S=e.shape,D=e.size,v=e.onError,P=e.children,G=e.content,T=e.style,I=e.imageProps,g=e.className,j=oe(e,Xe),x=c.exports.useContext(te),E=se(),w=E.classPrefix,m=c.exports.useState(1),A=y(m,2),J=A[0],o=A[1],p=c.exports.useState(!0),K=y(p,2),Z=K[0],h=K[1],R=c.exports.useRef(null),N=c.exports.useRef(null),u=D===void 0?x:D,F=4,H=function(){if(!(!N.current||!R.current)){var z=N.current.offsetWidth,L=R.current.offsetWidth;z!==0&&L!==0&&F*2<L&&o(L-F*2<z?(L-F*2)/z:1)}};Me(N.current,H);var Q=function(z){v==null||v(z),!f&&h(!1)};c.exports.useEffect(function(){h(!0),o(1)},[b]),c.exports.useEffect(function(){H()},[]);var q=We(),C=q.SIZE,U=u&&!C[u]?{width:u,height:u,fontSize:"".concat(Number.parseInt(u,10)/2,"px")}:{},X=u&&!C[u]?{width:u,height:u}:{},M="".concat(w,"-avatar"),V=k(M,g,(r={},_(r,C[u],!!C[u]),_(r,"".concat(M,"--").concat(S),!!S),_(r,"".concat(M,"__icon"),!!i),r)),$;if(b&&Z)$=n(Qe,{...B({src:b,alt:l,style:X,onError:Q},I)});else if(i)$=i;else{var Y={transform:"scale(".concat(J,")")};$=n("span",{ref:pe(a,N),style:Y,children:P||G})}return n("div",{...B({ref:pe(a,R),className:V,style:B(B({},U),T)},j),children:$})},{Group:Se});Pe.displayName="Avatar";var Ie=Pe;/**
 * tdesign v1.2.4
 * (c) 2023 tdesign
 * @license MIT
 */var ar=Ie;export{ar as A};
