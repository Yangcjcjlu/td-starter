import{r as c,b as F,j as e,c as N,a as r,ba as x,bb as p,d as C,B as u,bO as y}from"./index.b342f006.js";import{C as _}from"./common.module.d7e709a7.js";import{F as h}from"./index.12bed376.js";import{U as T}from"./index.6337de9c.js";import{M as i}from"./index.8512b0ee.js";import"./formModel.6e105aa5.js";import"./image.53fc6fc9.js";import"./DateRangePicker.7dc11db6.js";import"./index.db79b65c.js";import"./react-render.e22e01cf.js";const A="_formContainer_rhia5_1",E="_titleText_rhia5_10",H="_dateCol_rhia5_15";var l={formContainer:A,titleText:E,dateCol:H};const{FormItem:s}=h,f={eventhubName:"",file:[]};var W=c.exports.memo(()=>{const b=F(),o=c.exports.useRef(),v=t=>{var a,n;if(t.validateResult===!0){console.log("form: ",(n=(a=o.current)==null?void 0:a.getFieldsValue)==null?void 0:n.call(a,!0));const m=t.fields;console.log("p: ",m),b(y(m)).then(d=>{console.log("resp: ",d),d.payload.code===0?i.info("submit successfully!"):i.error("Failed to send file")})}},g=({file:t})=>{i.error(`Failed to send ${t.name}`)};return e("div",{className:N(_.pageWithColor),children:e("div",{className:l.formContainer,children:r(h,{ref:o,onSubmit:v,labelWidth:100,labelAlign:"top",children:[e("div",{className:l.titleBox,children:e("div",{className:l.titleText,children:"Send File to EventHub"})}),r(x,{gutter:[32,24],children:[e(p,{span:6,children:e(s,{label:"EventHub Name",name:"eventhubName",initialData:f.eventhubName,rules:[{required:!0,message:"EventHub Name is required",type:"error"}],children:e(C,{placeholder:"please input EventHub Name"})})}),e(p,{span:6,children:e(s,{label:"File",name:"file",initialData:f.file,rules:[{required:!0,message:"File is required",type:"error"}],children:e(T,{onFail:g,tips:"please upload file to EventHub",autoUpload:!1,multiple:!1})})})]}),r(s,{children:[e(u,{type:"submit",theme:"primary",children:"submit"}),e(u,{type:"reset",style:{marginLeft:12},children:"reset"})]})]})})})});export{W as default};
